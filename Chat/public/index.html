<!DOCTYPE html>
<html ng-app="app">
  <head>
    <title></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="https://code.angularjs.org/1.5.8/angular-route.min.js"></script>
    <script>
      var app = angular.module('app', ['ngRoute']);
      app.controller("HomeController", function($http){
        var vm = this;
        vm.users = [];

        vm.submitUser = function(user){
          if(user && user.username && user.password){
          $http.post('/api/users', user).then(function(response){
            vm.user = '';
          });
        }else{
          console.log("Invalid");
          }
        }

        return true;
      });

      app.config(function($routeProvider){
        $routeProvider.when('/',{
          controller: 'HomeController',
          controllerAs: 'vm',
          templateUrl:'./home.html'
        });
        $routeProvider.otherwise('/');
      });

      show = document.getElementById("hidden");
      var ifHidden = function(req, res, next){
        if (req.user) {
          show.style.display = "";
        } else {
          show.style.display = "none";
        }};
        ifHidden();
    </script>
    <script>
    </script>
  </head>
  <body>
  <div class="container">
    <a href="./login.html">Login</a>
    <a style="margin-left:15px;" href="/#/" ng-click="logout()">Logout</a>
    <div ng-view></div>
  </div>
  </body>
</html>
